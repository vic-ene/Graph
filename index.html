<html>
<head>
  <meta charset="UTF-8">
  <script language="javascript" type="text/javascript" src="https://cdn.jsdelivr.net/npm/p5@1.3.0/lib/p5.min.js"></script>
  
  
  <link rel="shortcut icon" href="#">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div id ="container">
    <div class="border-left border">
      <button id="calculateButton"><h4>Calculate</h4></button>
      <div class="button">
         <h4 id="speedSliderText">Speed: </h4>
         <input type="range" min="0" max="7" step="1" id="speedSlider">
      </div>
      <div class="button">
        <h4 id="NodeNumberSliderText">Nodes: </h4>
        <input type="range" min="0" max="20" step="1" id="nodeNumberSlider">
      </div>
      <div class="button">
        <h4>Stroke</h4>
        <input id="strokeColorInput" type="color" >
      </div>
       <div class="button">
          <h4>Node</h4>
          <input id="nodeColorInput" type="color" >
       </div>
       <div class="button">
          <h4>Background</h4>
          <input id="backgroundColorInput" type="color" >
       </div>  
    </div>


    <div id = "canvas"></div>

    <div class="border-right border">
      <button id="addNodeButton">Add Node</button>
      <button id="moveNodeButton">Move Node</button>
      <button id="deleteNodeButton">Delete Node</button>
      <button id="generateNodesButton">Generate Nodes</button>
      <button id="deleteAllButton">Delete All</button> 
      <button id="saveButton">Save</button>
    </div>
  </div>
 
  <script src="js/sketch.js"></script>
  <script src="js/node.js"></script>
  <script src="js/nodebuttons.js"></script>
  <script src="js/tsp.js"></script>

  <script src="other/methods.js"></script>

  <script>

      var canvasDiv = document.querySelector('#canvas');
      let width = canvasDiv.offsetWidth;
      let height = canvasDiv.offsetHeight;
      var canvas;

      var   addNodeButton = document.querySelector('#addNodeButton'),
            moveNodeButton = document.querySelector('#moveNodeButton'),
            deleteNodeButton = document.querySelector('#deleteNodeButton'),
            generateNodesButton = document.querySelector('#generateNodesButton'),
            deleteAllButton = document.querySelector('#deleteAllButton'),
            saveButton = document.querySelector('#saveButton'),
           
           
            calculateButton = document.querySelector('#calculateButton'),
            speedSlider = document.querySelector('#speedSlider'), 
            speedSliderText = document.querySelector('#speedSliderText'),
            nodeNumberSlider = document.querySelector('#nodeNumberSlider'), 
            nodeNumberSliderText = document.querySelector('#nodeNumberSliderText');
            strokeColorInput = document.querySelector('#strokeColorInput');
            nodeColorInput = document.querySelector('#nodeColorInput');
            backgroundColorInput = document.querySelector('#backgroundColorInput');

           

      var buttons = [];
      buttons.push(deleteAllButton);
      buttons.push(deleteNodeButton);
      buttons.push(moveNodeButton);
      buttons.push(addNodeButton);
      buttons.push(generateNodesButton);

      buttons.push(calculateButton);
      strokeColorInput.value = strokeColor;
      nodeColorInput.value = nodeColor;
      backgroundColorInput.value = backgroundColor;
        



      // these methods are in nodesbuttons.js 
      addNodeButton.addEventListener('click', switchButton);
      moveNodeButton.addEventListener('click', switchButton);
      deleteNodeButton.addEventListener('click', switchButton);
      generateNodesButton.addEventListener('click', generateRandomNodes);
      deleteAllButton.addEventListener('click', resetNodes);
      saveButton.addEventListener('click', saveInfo);
      
     

      calculateButton.addEventListener('click', calculateDistanceMatrix);
      speedSlider.addEventListener('input', changeCalculationSpeed);
      speedSliderText.innerHTML = "Speed: " + speedSlider.value.toString();
      nodeNumberSlider.addEventListener('input', changeNumberOfNodes);
      nodeNumberSliderText.innerHTML = "Nodes: " + nodeNumberSlider.value.toString();
      strokeColorInput.addEventListener('input', changeStrokeColor);
      nodeColorInput.addEventListener('input', changeNodeColor);
      backgroundColorInput.addEventListener('input', changeBackgroundColor);


      document.addEventListener('DOMContentLoaded', loadInfo);


      
    function windowResized(){
      width = canvasDiv.offsetWidth;
      height = canvasDiv.offsetHeight;
      resizeCanvas(width, height);
    }

  </script>




   
</body>
</html>
